{"ts":1366223607040,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class UsersController < ApplicationController\n  def index\n  end\n\n  def show\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":86}]],"length":86}
{"contributors":[],"silentsave":false,"ts":1366223671074,"patch":[[{"diffs":[[0,"f index\n"],[1,"  \n"],[0,"  end\n\n "]],"start1":50,"start2":50,"length1":16,"length2":19}]],"length":89,"saved":false}
{"ts":1366223849415,"patch":[[{"diffs":[[0,"troller\n"],[1,"  \n"],[0,"  def in"]],"start1":38,"start2":38,"length1":16,"length2":19},{"diffs":[[0,"x\n  "],[-1,"\n  end\n\n  def show\n  end"],[1,"  authorize! :index, @user, :message => 'Not authorized as an administrator.'\n    @users = User.all\n  end\n\n  def show\n    @user = User.find(params[:id])\n  end\n  "],[0,"\nend"]],"start1":59,"start2":59,"length1":32,"length2":169}]],"length":229,"saved":false}
{"ts":1366223889295,"patch":[[{"diffs":[[0,"troller\n"],[1,"  before_filter :authenticate_user!\n"],[0,"  \n  def"]],"start1":38,"start2":38,"length1":16,"length2":52}]],"length":265,"saved":false}
{"ts":1366224165299,"patch":[[{"diffs":[[0,"e_user!\n"],[1,"  load_and_authorize_resource :only => :index\n"],[0,"  \n  def"]],"start1":74,"start2":74,"length1":16,"length2":62}]],"length":311,"saved":false}
{"ts":1366224195016,"patch":[[{"diffs":[[0,"ndex"],[-1,"\n  \n  def index\n    authorize! :index, @user, :message => 'Not authorized as an administrator.'\n    @users = User.all\n  end"],[0,"\n\n  "]],"start1":123,"start2":123,"length1":131,"length2":8}]],"length":188,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366225862744,"patch":[[{"diffs":[[1,"# Valid as well:\n# "],[0,"class Us"]],"start1":0,"start2":0,"length1":8,"length2":27},{"diffs":[[0,"troller\n"],[1,"#"],[0,"  "],[1," "],[0,"before_f"]],"start1":57,"start2":57,"length1":18,"length2":20},{"diffs":[[0,"e_user!\n"],[1,"# "],[0,"  load_a"]],"start1":95,"start2":95,"length1":16,"length2":18},{"diffs":[[0," :index\n"],[-1,"\n"],[1,"# \n# "],[0,"  def sh"]],"start1":143,"start2":143,"length1":17,"length2":21},{"diffs":[[0,"ef show\n"],[1,"# "],[0,"    @use"]],"start1":159,"start2":159,"length1":16,"length2":18},{"diffs":[[0,"d])\n"],[1,"# "],[0,"  end\n"],[1,"#"],[0,"  "],[1," \n#   \n# end\n\n\nclass UsersController < ApplicationController\n  before_filter :authenticate_user!\n\n  def index\n    authorize! :index, @user, :message => 'Not authorized as an administrator.'\n    @users = User.all\n  end\n\n  def show\n    @user = User.find(params[:id])\n  end\n\n  def update\n    authorize! :update, @user, :message => 'Not authorized as an administrator.'\n    @user = User.find(params[:id])\n    if @user.update_attributes(params[:user], :as => :admin)\n      redirect_to users_path, :notice => \"User updated.\"\n    else\n      redirect_to users_path, :alert => \"Unable to update user.\"\n    end\n  end\n\n  def destroy\n    authorize! :destroy, @user, :message => 'Not authorized as an administrator.'\n    user = User.find(params[:id])\n    unless user == current_user\n      user.destroy\n      redirect_to users_path, :notice => \"User deleted.\"\n    else\n      redirect_to users_path, :notice => \"Can't delete yourself.\"\n    end\n  end"],[0,"\nend"]],"start1":200,"start2":200,"length1":16,"length2":953}]],"length":1154,"saved":false}
{"contributors":[],"silentsave":false,"ts":1366226604911,"patch":[[{"diffs":[[0," end\nend"],[-1,"\n"]],"start1":1145,"start2":1145,"length1":9,"length2":8}]],"length":1153,"saved":false}
